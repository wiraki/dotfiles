"$schema" = "https://yazi-rs.github.io/schemas/keymap.json"

# Close input boxes but pressing escape once
[input]

prepend_keymap = [
	{ on   = [ "<Esc>" ], run  = "close", desc = "Cancel input" }
]

[[manager.prepend_keymap]]
on = [ "<C-1>" ]
run = "plugin toggle-view --args=parent"
desc = "Toggle parent view"

[[manager.prepend_keymap]]
on = [ "<C-2>" ]
run = "plugin toggle-view --args=current"
desc = "Toggle parent view"

[[manager.prepend_keymap]]
on = [ "<C-3>" ]
run = "plugin toggle-view --args=preview"
desc = "Hide or show preview"

[[manager.prepend_keymap]]
on = [ "<S-3>" ]
run = "plugin max-preview"
desc = "Maximize or restore preview"

[[manager.prepend_keymap]]
on = [ "K" ]
run = "seek -3"
desc = "Scroll up 3 units in the preview"

[[manager.prepend_keymap]]
on = [ "J" ]
run = "seek 3"
desc = "Scroll down 3 units in the preview"

[[manager.prepend_keymap]]
on = [ "s","d" ]
run = "search fd"
desc = "Search files by name using fd"

[[manager.prepend_keymap]]
on = [ "s","g" ]
run = "search rg"
desc = "Search files by content using ripgrep"

[[manager.prepend_keymap]]
on = [ "s","j" ]
run = "plugin searchjump --args='autocd'"
desc = "searchjump mode"

[[manager.prepend_keymap]]
on = [ "1" ]
run = "plugin relative-motions --args=1"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = [ "2" ]
run = "plugin relative-motions --args=2"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = [ "3" ]
run = "plugin relative-motions --args=3"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = [ "4" ]
run = "plugin relative-motions --args=4"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = [ "5" ]
run = "plugin relative-motions --args=5"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = [ "6" ]
run = "plugin relative-motions --args=6"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = [ "7" ]
run = "plugin relative-motions --args=7"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = [ "8" ]
run = "plugin relative-motions --args=8"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = [ "9" ]
run = "plugin relative-motions --args=9"
desc = "Move in relative steps"

[[manager.prepend_keymap]]
on = ["C"]
run = "plugin ouch --args=zip"
desc = "Compress with ouch"

# Use ripdrag to drag file
[[manager.prepend_keymap]]
on = ["<C-g>"]
run = "shell 'ripdrag \"$@\" -x 2>/dev/null &' --confirm"
desc = "Use ripdrag to drag file"

# Eza-preview (fork https://github.com/ahkohd/eza-preview.yazi)
[[manager.prepend_keymap]]
on = ["E"]
run = "plugin eza-preview"
desc = "Toggle tree/list dir preview"

[[manager.prepend_keymap]]
on = ["-"]
run = "plugin eza-preview --args='--inc-level'"
desc = "Increment tree level in eza-preview"

[[manager.prepend_keymap]]
on = ["_"]
run = "plugin eza-preview --args='--dec-level'"
desc = "Decrement tree level in eza-preview"

